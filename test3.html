<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
</head>
<body>
    <!-- 추천 기능 -->
		<div>
			<div class="w3-border w3-center w3-padding">

					추천 기능은
                    <button type="button" id="newLogin">
                        <b class="w3-text-blue">로그인</b>
                    </button> 후 사용 가능합니다.<br />
					<i class="fa fa-heart" style="font-size:16px;color:red"></i>
					<span class="rec_count"></span>					

					<button class="w3-button w3-black w3-round" id="rec_update">
						<i class="fa fa-heart" style="font-size:16px;color:red"></i>
						&nbsp;<span class="rec_count"></span>
					</button> 

			</div>
		</div>
        <script>
            $(function(){
                // 추천버튼 클릭시(추천 추가 또는 추천 제거)
                $("#rec_update").click(function(){
                    $.ajax({
                        url: "/expro/RecUpdate.do",
                        type: "POST",
                        data: {
                            no: ${content.board_no},
                            id: '${id}'
                        },
                        success: function () {
                            recCount();
                        },
                    })
                })
                
                // 게시글 추천수
                function recCount() {
                    $.ajax({
                        url: "/expro/RecCount.do",
                        type: "POST",
                        data: {
                            no: ${content.board_no}
                        },
                        success: function (count) {
                            $(".rec_count").html(count);
                        },
                    })
                };
                recCount(); // 처음 시작했을 때 실행되도록 해당 함수 호출
        </script>
</body>
</html>